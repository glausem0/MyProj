package mytest;

import java.util.*;
import registers.Register;

public class Visitors implements MyTestVisitor{

	@Override
	public Object visit(SimpleNode node, Object data) {
		node.childrenAccept(this, data);
		return null;
	}

	@Override
	public Object visit(ASTprog node, Object data) {
		node.childrenAccept(this, data);
		return null;
	}

	@Override
	public Object visit(ASTdecl node, Object data) {
		Object arg1 = node.jjtGetChild(0).jjtAccept(this, data);
		Object arg2 = node.jjtGetChild(1).jjtAccept(this, data);
		
		Register.setRegister(arg1, arg2);
		
		return ""+Register.getRegister(arg1)+"";
	}

	@Override
	public Object visit(ASTregister node, Object data) {
		node.childrenAccept(this, data);
		String valStr = node.jjtGetValue().toString();
		return valStr;
	}

	@Override
	public Object visit(ASTnumber node, Object data) {
		node.childrenAccept(this, data);
		String valStr = node.jjtGetValue().toString();
		valStr.replace("#", "");
		int valInt = Integer.parseInt(valStr);
		
		return valInt;
	}

}
